# drako manifest


# Update CRD
The CRD for drako is generated by bazel. To update them, run the following command at this directory.
```
bazel run //ns/id/drako_data:drako_data_crd_gen > crds-v1alpha1.yaml
```

When adding fields to the CRD, you can simply overwrite the CRD file.
However, when deleting fields or changing types, overwriting the CRD will cause flux to fail to deploy.
In that case, you need to deploy the new API version of the CRD. Create another file containing the new CRD for that case.
When deleting the old API version of the CRD, there are some prerequisites that must be fulfilled. 

Note that the id namespace belongs to the kustomization for deploying the system, and an error on here will stop all subsequent flux updates. Be careful.
